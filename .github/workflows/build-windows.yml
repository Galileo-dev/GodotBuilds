name: "Create weekly build"
on:
  # schedule:
  #   - cron: "0 0 * * *"
  push

jobs:
  build:
    name: Build
    runs-on: ubuntu-18.04
    steps:
      - name: Checkout code
        uses: actions/checkout@v2
        with:
          repository: "godotengine/godot"
          token:
            ${{ secrets.GITHUB_TOKEN }}
            # Make sure the actual branch is checked out when running on pull requests
          ref: ${{ github.head_ref }}
          # This is important to fetch the changes to the previous commit
          fetch-depth: 0
      - name: Set up MinGW
        if: runner.os == 'Linux'
        uses: egor-tensin/setup-mingw@v2
        with:
          platform: x64
      - name: Install MSVC
        if: runner.os == 'Windows'
        uses: ilammy/msvc-dev-cmd@v1

  # Build:
  #   runs-on: ubuntu-latest
  #   needs:  dep
  #   steps:
  #   - uses: actions/stale@v1.1.0
  #     with:
  #       repo-token: ${{ secrets.GITHUB_TOKEN }}
  #       stale-issue-message: 'Message to comment on stale issues. If none provided, will not mark issues stale'
  #       stale-pr-message: 'Message to comment on stale PRs. If none provided, will not mark PRs stale'
